{"ast":null,"code":"import _regeneratorRuntime from \"/Users/magda/Desktop/Strive-Blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/magda/Desktop/Strive-Blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/magda/Desktop/Strive-Blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/magda/Desktop/Strive-Blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/magda/Desktop/Strive-Blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/magda/Desktop/Strive-Blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/magda/Desktop/Strive-Blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/magda/Desktop/Strive-Blog/src/views/blog/index.jsx\";\nimport React, { Component } from 'react';\nimport { Container, Image } from 'react-bootstrap';\nimport { withRouter } from 'react-router';\nimport BlogAuthor from '../../components/blog/blog-author'; // import posts from '../../data/posts.json';\n\nimport './styles.css';\n\nvar Blog = /*#__PURE__*/function (_Component) {\n  _inherits(Blog, _Component);\n\n  function Blog() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Blog);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Blog)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      blog: {},\n      loading: true\n    };\n    _this.componentDidMount = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var id, response, data, blog;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              id = _this.props.match.params.id;\n              _context.prev = 1;\n              _context.next = 4;\n              return fetch('http://localhost:3001/blogPosts/');\n\n            case 4:\n              response = _context.sent;\n\n              if (!response.ok) {\n                _context.next = 13;\n                break;\n              }\n\n              _context.next = 8;\n              return response.json();\n\n            case 8:\n              data = _context.sent;\n              blog = data.find(function (post) {\n                return post._id.toString() === id;\n              });\n\n              if (blog) {\n                console.log(blog);\n\n                _this.setState({\n                  blog: blog,\n                  loading: false\n                });\n              } else {\n                _this.props.history.push('/404');\n              }\n\n              _context.next = 14;\n              break;\n\n            case 13:\n              console.log('Error while getting response');\n\n            case 14:\n              _context.next = 19;\n              break;\n\n            case 16:\n              _context.prev = 16;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 16]]);\n    }));\n    return _this;\n  }\n\n  _createClass(Blog, [{\n    key: \"render\",\n    // componentDidMount() {\n    //   const { id } = this.props.match.params;\n    //   console.log(posts);\n    //   const blog = posts.find((post) => post._id.toString() === id);\n    //   if (blog) {\n    //     this.setState({ blog, loading: false });\n    //   } else {\n    //     this.props.history.push(\"/404\");\n    //   }\n    // }\n    value: function render() {\n      var _this$state = this.state,\n          loading = _this$state.loading,\n          blog = _this$state.blog;\n\n      if (loading) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 14\n          }\n        }, \"loading\");\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"blog-details-root\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Container, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Image, {\n          className: \"blog-details-cover\",\n          src: blog.cover,\n          fluid: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(\"h1\", {\n          className: \"blog-details-title\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }\n        }, blog.title), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"blog-details-container\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"blog-details-author\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(BlogAuthor, Object.assign({}, blog.author, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"blog-details-info\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }\n        }, blog.createdAt), /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }\n        }, \"\".concat(blog.readTime.value, \" \").concat(blog.readTime.unit, \" read\")))), /*#__PURE__*/React.createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: blog.content\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }\n        })));\n      }\n    }\n  }]);\n\n  return Blog;\n}(Component);\n\nexport default withRouter(Blog);","map":{"version":3,"sources":["/Users/magda/Desktop/Strive-Blog/src/views/blog/index.jsx"],"names":["React","Component","Container","Image","withRouter","BlogAuthor","Blog","state","blog","loading","componentDidMount","id","props","match","params","fetch","response","ok","json","data","find","post","_id","toString","console","log","setState","history","push","cover","title","author","createdAt","readTime","value","unit","__html","content"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Container, Image } from 'react-bootstrap';\nimport { withRouter } from 'react-router';\nimport BlogAuthor from '../../components/blog/blog-author';\n// import posts from '../../data/posts.json';\nimport './styles.css';\nclass Blog extends Component {\n  state = {\n    blog: {},\n    loading: true,\n  };\n\n  componentDidMount = async () => {\n    const { id } = this.props.match.params;\n    try {\n      let response = await fetch('http://localhost:3001/blogPosts/');\n      if (response.ok) {\n        let data = await response.json();\n        const blog = data.find((post) => post._id.toString() === id);\n        if (blog) {\n          console.log(blog);\n          this.setState({ blog, loading: false });\n        } else {\n          this.props.history.push('/404');\n        }\n      } else {\n        console.log('Error while getting response');\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  // componentDidMount() {\n  //   const { id } = this.props.match.params;\n  //   console.log(posts);\n  //   const blog = posts.find((post) => post._id.toString() === id);\n  //   if (blog) {\n  //     this.setState({ blog, loading: false });\n  //   } else {\n  //     this.props.history.push(\"/404\");\n  //   }\n  // }\n\n  render() {\n    const { loading, blog } = this.state;\n    if (loading) {\n      return <div>loading</div>;\n    } else {\n      return (\n        <div className=\"blog-details-root\">\n          <Container>\n            <Image className=\"blog-details-cover\" src={blog.cover} fluid />\n            <h1 className=\"blog-details-title\">{blog.title}</h1>\n\n            <div className=\"blog-details-container\">\n              <div className=\"blog-details-author\">\n                <BlogAuthor {...blog.author} />\n              </div>\n              <div className=\"blog-details-info\">\n                <div>{blog.createdAt}</div>\n                <div>{`${blog.readTime.value} ${blog.readTime.unit} read`}</div>\n              </div>\n            </div>\n\n            <div dangerouslySetInnerHTML={{ __html: blog.content }}></div>\n          </Container>\n        </div>\n      );\n    }\n  }\n}\n\nexport default withRouter(Blog);\n"]},"metadata":{},"sourceType":"module"}